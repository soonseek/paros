---
stepsCompleted: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
inputDocuments: []
workflowType: 'prd'
lastStep: 10
briefCount: 0
researchCount: 0
brainstormingCount: 0
projectDocsCount: 0
---

# Product Requirements Document - paros-bmad

**Author:** Soonseek
**Date:** 2026-01-07

---

## Executive Summary

### Product Vision

**Paros(파로스)**는 회생 파산 전문 법인을 위한 AI 코파일럿 통합 시스템입니다. 주로 문서 생성 자동화를 중심으로 설계되었으며, 법률 실무자의 업무 효율을 혁신적으로 개선하는 것을 목표로 합니다.

**자금 흐름 추적 분석 기능**은 이 큰 비전의 첫 번째 기능으로, 고객에게 Paros 시스템의 신뢰도와 기술적 역량을 입증하는 핵심 프로브(Probe) 기능입니다. 이 기능의 성공이 향후 문서 생성 등 핵심 기능의 도입을 결정짓는 기준이 됩니다.

### The Problem

회생 파산 사건을 담당하는 법률 실무자들은 채무자의 자금 흐름을 추적하는 과정에서 다음과 같은 어려움을 겪습니다:

- **시간 소모:** 다양한 형식(PDF, 이미지, 엑셀)의 통장 내역을 수동으로 검토하고 분석하는 데 막대한 시간 소요 (통상 4-8시간)
- **패턴 인식의 어려움:** 자산 처분 의심 거래, 특정 금액 이상의 이체, 부동산 관련 출금 등 중요 패턴을 사람이 놓치는 경우 다수
- **다중 계좌 복잡성:** 여러 은행의 여러 계좌를 통합적으로 분석하고 연관 짓는 것은 노동 집약적 작업
- **법정 기간 준수 압박:** 회생 파산 절차에서 엄격한 신고 기간 내에 정확한 자금 흐름 보고서 작성 필요

### The Solution

**자금 흐름 추적 분석 기능**은 채무자의 전체 통장 내역을 업로드하면 다음을 자동으로 수행합니다:

- **모든 형식 지원:** PDF, 이미지, 엑셀 등 모든 형식의 통장 내역 처리
- **모든 은행 계좌 통합:** 여러 은행의 모든 계좌를 통합 분석
- **스마트 필터링 및 분석:**
  - 특정 금액 이상 출금건 신속 조회
  - 자산 처분 의심 건 자동 식별 및 플래깅
  - 부동산 계약서와 연계된 자금 흐름 자동 추적
- **직관적인 UI/UX:** 복잡한 분석 결과를 법률 실무자가 쉽게 탐색하고 보고서 작업에 활용할 수 있는 인터페이스

### What Makes This Special

이 첫 번째 기능은 Paros AI 코파일럿 시스템의 **"신뢰의 문(Trust Door)"**입니다:

- **실질적 가치 증명:** "이거 한 번 쓰면 Paros의 다른 기능도 믿고 쓰고 싶다"는 수준의 업무 효율 혁신 제공
- **외부 API 우선 전략:** Google File Search Advisor, Upstage Solar, GPT/Gemini/Claude/Grok 등 최고의 외부 API를 활용하여 빠르게 높은 품질 제공
- **한국어 특화:** 한국 금융 거래의 특성과 회생 파산 용어 처리에 최적화 (Upstage Solar 등 한국 AI 모델 활용)
- **향후 문서 생성과의 연계:** 추출된 자금 흐름 데이터를 활용해 회생 파산 신고서, 보고서 등 문서 자동 생성으로 자연스럽게 연계

### Target Users

- 회생 파산 전문 법인 파로스의 구성원
- 회생 파산 사건을 담당하는 변호사 및 실무자
- 법무법인의 채권 회수 팀
- 개인 회생 및 법인 정리 절차를 담당하는 법률 전문가

## Project Classification

**Technical Type:** Web App (브라우저 기반, 데이터 분석 및 문서 생성 중심)
**Domain:** Legaltech (회생 파산, 채무자 조사)
**Complexity:** High (외부 API 통합, 법적 정확성, 금융 데이터 보안, 한국어 특화)
**Project Context:** Greenfield - Paros AI 코파일럿 시스템의 첫 기능

### Technical Approach

**외부 API 우선 전략:**

| 단계 | 기술 | 비용 | 목적 |
|------|------|------|------|
| 문서 파싱/OCR | Upstage Solar, Google Document AI | $$ | 한국어 통장 내역 최적화 |
| 데이터 정규화 | 로컬 Python (pandas) | $0 | 금액/날짜 포맷 통일 |
| 필터링 | 로컬 ML/규칙 | $0 | 금액 기준 추출 |
| 심층 분석 | GPT/Claude/Gemini (선택적) | $$$ | 자산 처분 패턴 인식 |
| 시각화 | 로컬 (Chart.js/D3.js) | $0 | 대시보드/타임라인 |

**비용 최적화:** 로컬 필터링 후 선택적 LLM 호출 → **90-95% 비용 절감**

### UI/UX Approach

**핵심 원칙:**
- **3초 규칙:** 업로드 후 3초 안에 첫 인사이트 제공
- **프로그레시브 디스클로저:** 요약 → 상세 → 원본 데이터
- **다중 진입점:** 대시보드 / 필터 / 타임라인
- **액션 가능:** 모든 발견이 바로 보고서로 연결

**주요 화면:**
1. **업로드 화면:** 드래그 앤 드롭, 다중 파일 지원, 실시간 진행률
2. **대시보드:** 핵심 발견 3가지 한눈에 (자산 처분 의심, 대규모 출금, 계좌 간 이체)
3. **필터/검색:** 금액, 유형, 기간, 계좌별 필터링
4. **타임라인 뷰:** 시각적 자금 흐름 추적

### Security & Compliance

**보안 계층:**
- **데이터 마스킹:** 계좌번호 중간 4자리만, 이름 가명 처리
- **목적 제한:** LLM에 특정 목적(자산 처분 패턴 분석)만 명시
- **데이터 보존:** 분석 후 즉시 삭제 또는 한국 내 서버에만 저장
- **규정 준수:** 개인정보보호법, 금융기관법, 신용정보법
- **사용자 선택:** 외국 API 사용 여부, 데이터 저장 여부 선택 가능

### Strategic Positioning

이 기능의 성공은 다음과 같은 파급 효과를 가집니다:
- **기술적 신뢰 형성:** Paros의 AI 역량을 입증
- **워크플로우 통찰:** 회생 파산 실무자의 실제 업무 패턴 이해
- **데이터 기반 개발:** 실제 사용 데이터를 바탕으로 문서 생성 등 핵심 기능 개선
- **고객 로열티 구축:** 첫 경험에서 강력한 가치 전달

---

## Success Criteria

### User Success

**핵심 성공 순간: The "Aha!" Moment**

사용자가 분석 결과를 **클릭 몇 번으로 엑셀/이미지/클립보드로 내보내서,
작성 중인 신고서 또는 보정 명령/권고에 따른 추가 제출 서류에 바로 붙여넣을 수 있는 순간**이 핵심 성공 경험입니다.

**구체적 성공 지표:**

1. **시간 단축 (50% 개선)**
   - 기존: 통장 분석 + 보고서 작성 4-8시간
   - 목표: 2-4시간으로 단축
   - 측정: 첫 10개 사건의 평균 처리 시간 측정

2. **재사용률 100%**
   - 첫 번째 사건에서 성공한 사용자의 100%가 두 번째 사건도 자동으로 이 기능 사용
   - "이제 수동 분석은 안 해"라고 말하는 사용자 패턴 형성

3. **업무 흐름 연계**
   - 분석 결과 → 엑셀 다운로드 → 신고서/추가 제출 서류에 붙여넣기
   - 또는 클립보드 복사 → Word/PPT에 바로 붙여넣기
   - 이 과정이 30초 이내 완료

4. **사용자 만족도**
   - "이거 한 번 쓰면 Paros의 다른 기능도 쓰고 싶다"고 느끼는 사용자 100%
   - 첫 사용 후 NPS (Net Promoter Score) 8점 이상 (10점 만점)

### Business Success

**내부 신뢰 형성 중심 (외부 마케팅 없음)**

1. **파로스 내부 채택**
   - 회생 파산 담당팀의 100%가日常 업무에 사용
   - 첫 달: 5명 사용자 → 3개월 내: 전체 담당팀 (예: 20명)

2. **다음 기능으로의 연계**
   - 이 기능 성공 후, 100% 사용자가 Paros의 문서 생성 자동화 기능 도입에 찬성
   - "신뢰의 문" 역할 성공: 첫 기능이 전체 시스템에 대한 믿음 형성

3. **업무 효율 측정**
   - 사건당 평균 인건비 절감 (예: 변호사 시간 50% 단축 → 비용 절감)
   - 월간 처리 가능 사건 수 증가 (예: 10건 → 20건)

**참고:** 외부 마케팅/세일즈는 현재 범위 아님. 파로스 내부 도구로서 가치 입증 중심.

### Technical Success

1. **정확도: 95%**
   - 자산 처분 의심 건 식별 정확도 95%
   - False Positive율 5% 이하
   - 측정: 전문가(변호사)가 검증한 샘플 데이터로 평가

2. **성능: 1분 완료 + 실시간 피드백**
   - 통장 내역 업로드 후 1분 이내에 최종 결과 제공
   - **프로세스 피드백 (실시간 진행률):**
     ```
     ⏳ 분석 진행 중... (30%)
     ✓ 문서 파싱 완료 (3개 파일)
     ⏳ 거래 내역 추출 중...
     ⏳ 패턴 분석 대기 중...
     ```
   - 사용자가 현재 무슨 단계가 진행 중인지 명확히 인지

3. **가용성: 99.9%**
   - 한 달에 최대 43분 다운타임 허용
   - 업무 시간(9-18시) 중 가용성 특히 중요
   - 장애 발생 시: "분석 중 일시적 오류입니다. 잠시 후 다시 시도해주세요" 메시지

4. **데이터 내보내기 안정성**
   - 엑셀 다운로드 성공률 99.9%
   - 클립보드 복사 성공률 99.9%
   - 이미지 다운로드 성공률 99.9%

### Measurable Outcomes

**첫 3개월 목표:**

| 지표 | 현재 | 목표 (3개월) | 측정 방법 |
|------|------|--------------|-----------|
| 평균 처리 시간 | 4-8시간 | 2-4시간 | 10개 사건 평균 |
| 사용자 채택률 | 0% | 100% (파로스 내) | 활성 사용자 수 / 전체 담당자 |
| 재사용률 | - | 100% | 첫 사용자 중 두 번째도 사용한 비율 |
| 정확도 | - | 95% | 전문가 검증 |
| 사용자 만족도(NPS) | - | 8점/10점 | 설문조사 |

**질적 성공 지표:**
- 사용자 인터뷰에서 "이제 수동 분석은 안 해"라고 말하는 quote
- 실무자가 스스로 동료에게 이 기능을 추천하는 현상
- 보고서 작성 시간 단축으로 인한 야근/주말 근무 감소

## Product Scope

### MVP - Minimum Viable Product

**"반드시 있어야 유용한 것" - 첫 번째 릴리스**

**기능:**
1. **문서 업로드**
   - PDF, 이미지(JPG/PNG), 엑셀(XLSX) 지원
   - 다중 파일 동시 업로드 (최대 20개 파일)
   - 드래그 앤 드롭 지원

2. **자동 분석**
   - 한국어 OCR (Upstage Solar)
   - 거래 내역 자동 추출
   - 자산 처분 의심 건 식별
   - 1억원 이상 대규모 출금 필터링
   - 부동산 계약서와 매칭 (선택적)

3. **결과 조회**
   - 대시보드: 핵심 발견 3가지 요약
   - 필터: 금액, 유형, 기간, 계좌별
   - 타임라인 뷰: 시각적 자금 흐름

4. **데이터 내보내기** ⭐ 핵심 성공 기능
   - 엑셀 다운로드 (전체/선택 거래)
   - 이미지 다운로드 (필터링 결과)
   - 클립보드 복사 (표/텍스트)

5. **프로세스 피드백**
   - 실시간 진행률 표시 (단계별: 문서 파싱 → 추출 → 분석 → 완료)
   - 예상 소요 시간 표시

**기술 스택:**
- Frontend: React/Vue + Tailwind CSS
- Backend: Node.js/Python FastAPI
- OCR: Upstage Solar API
- 분석: GPT-4/Claude (선택적 호출)
- 데이터베이스: PostgreSQL (AWS Seoul)

### Growth Features (Post-MVP)

**"경쟁력을 갖추게 하는 것" - MVP 성공 후 추가**

1. **고급 필터링**
   - 맞춤 금액 범위 설정
   - 복합 조건 검색 (AND/OR)
   - 저장된 필터 프리셋

2. **보고서 템플릿**
   - 신고서 자동 작성 초안
   - 보정 명령 대응 서류 자동 생성
   - 회사 브랜딩 적용

3. **협업 기능**
   - 분석 결과 공유 (팀원 간)
   - 코멘트 및 태그
   - 버전 관리

4. **분석 히스토리**
   - 과거 사건 검색
   - 패턴 학습 및 자동 개선
   - 자주 묻는 질문 FAQ

5. **AI 모델 선택**
   - 사용자가 LLM 선택 (GPT/Claude/Grok)
   - 비용 vs 정확도 트레이드오프 옵션

### Vision (Future)

**"꿈의 버전" - Paros 전체 비전의 일부**

1. **문서 생성 자동화** ⭐ Paros 핵심 기능
   - 자금 흐름 분석 결과 → 회생 파산 신고서 자동 작성
   - 보정 명령/권고에 대한 답변서 자동 생성
   - 법원 제출 서류 전체 자동화

2. **종합 AI 코파일럿**
   - 회생 절차 전체 단계 가이드
   - 법률 검색 및 판례 추천
   - 문서 간 연계 분석 (채무자의 모든 문서 연결)

3. **예측 분석**
   - 자산 처분 가능성 예측
   - 회생 가능성 시뮬레이션
   - 채권 회수율 추정

4. **통합 플랫폼**
   - 사건 관리 시스템 연동
   - 법원 전자민원 시스템 연동
   - 회계 시스템과 데이터 연계

---

## User Journeys

### Journey 1: 김지현 변호사 - 시간 되찾기

**개요:**
김지현(38, 변호사 10년 차)은 지난 사건에서 통장 분석하느라 밤을 새운 경험이 있습니다. 자산 처분 의심 건을 놓쳐서 법관에게 지적받은 후, 이번엔 Paros를 써보기로 합니다.

#### Opening Scene: 의뢰 확정

화요일 오후 3시, 새로운 개인회생 사건 의뢰가 확정되었습니다. 의뢸인이 카카오톡으로 통장 내역 5개 파일을 보내왔습니다. 김 변호사는 가슴이 철렁내려앉는 걸 느낍니다.

*"지난번엔 이거 하느라 밤 10시까지 있었는데..."*

폴더를 열어보니: 국민은행 PDF, 하나은행 엑셀, 신한은행 이미지 스캔본... 형식이 제각각입니다.

#### Rising Action: Paros와의 첫 만남

김 변호사는 Paros 포털에 접속합니다. 드래그 앤 드롭으로 5개 파일을 올립니다.

**화면:**
```
⏳ 문서 파싱 중... (20%)
✓ 국민은행_홍길동.pdf 완료
✓ 하나은행_홍길동.xlsx 완료
⏳ 신한은행_홍길동.jpg 처리 중...
```

*"음, 이건 생각보다 깔끔하네?"*

50초 후, 첫 화면이 나옵니다:

```
📊 분석 완료 - 홍길동 채무자 자금 흐름

⚠️ 핵심 발견 3건

1. 🔴 자산 처분 강력 의심
   2024-02-15 | 국민은행 | 5억원 출금
   → 부동산 매매계약서 일치!

2. 🟡 1억원 이상 대규모 출금 (7건)
   기간: 2024-01-01 ~ 2024-03-31
   합계: 12억 5천만원

3. 🟠 계좌 간 이체 패턴 (23건)
   → 특정 계좌로 자금 집중 감지
```

김 변호사의 눈이 커집니다.

*"5억원 자산 처분? 그거 지난번에 내가 놓쳤던 그 패턴이잖아!"*

#### Climax: "이게 진짜구나" 순간

김 변호사는 "1억원 이상 출금건"을 클릭합니다. 필터링된 7건이 표로 나옵니다. 오른쪽 상단의 **[엑셀 다운로드]** 버튼을 누릅니다.

*따다따따단!* - 다운로드 완료.

엑셀 파일을 열고, 필요한 열만 복사해서 작성 중이던 **신고서 초안**에 붙여넣습니다.

*"1분 30초? 진짜?"*

저번엔 이거 하느라 3시간 걸렸습니다. 김 변호사는 의자에서 일어나 커피를 타러 갑니다. 이 감정이 무엇일까요?

**안도감. 자유. "내가 이제 전문가가 된 느낌?"**

#### Resolution: 보정 명령도 문제없이

2주 후, 법원에서 보정 명령이 옵니다. *"추가로 5000만원 이상 출금건도 조사 바람"*

김 변호사는 Paros에 다시 접속합니다. **[금액 필터: 5000만원 이상]**을 설정하고 클릭. 3초 만에 12건이 나옵니다. 엑셀로 다운로드해서 보정 명령 대응서에 붙여넣습니다.

30분 만에 제출 서류 완료. 퇴근 시간 6시. 김 변호사는 운동을 하러 갑니다.

#### 3개월 후: "이제 수동은 안 해"

동료 변호사가 점심을 먹으며 물어봅니다.

*"야, 그 Paros 어떻게? 진짜 좋아?"*

김 변호사는 웃으며 대답합니다.

*"솔직히 말해주자면... 이제 수동으로 통장 보는 건 상상도 안 해.
 지난달 사건은 자산 처분 의심 건 2건 찾았는데, 내가 절대 못 찾을 거였어.
 법관도 '조사가 철저하네'라고 칭찬했지."*

동료가 그날 오후 Paros 계정을 신청합니다.

### Journey 2: 박민수 팀장 - Paros 운영 총괄

**개요:**
박민수(40, IT 팀장)은 Paros 시스템의 기술적 운영을 총괄합니다. 새로운 자금 흐름 추적 분석 기능을 론칭한 지 일주일. 변호사들이 사용하기 시작했고, 이제부터 진짜 운영이 시작됩니다.

#### Opening Scene: 론칭 첫 주 월요일 아침

월요일 아침 9시, 박 팀장은 모니터를 켭니다. Paros 관리자 대시보드가 나옵니다.

```
📊 Paros 시스템 대시보드
├─ 활성 사용자: 5명
├─ 어제 처리한 사건: 3건
├─ API 호출 횟수: 127회
└─ 시스템 상태: ✅ 정상
```

*"음, 첫 주인데 문제없네. 근데..."*

박 팀장은 **[사용자 관리]** 탭을 클릭합니다. 회생 파산 팀에는 20명인데, 현재 5명만 활성화되어 있습니다.

#### Rising Action: 신규 사용자 온보딩

오전 10시, 김지현 변호사가 카카오톡을 보냅니다.

*"민수야, 우리 팀 이민수 변호사도 Paros 쓰게 해줘.
 이번 주에 새 사건 배정받았대."*

박 팀장은 관리자 화면에서:
1. **[사용자 초대]** 버튼 클릭
2. 이메일 입력: `minsu.lee@paros.law`
3. 역할 선택: **변호사 (일반 사용자)**
4. **[초대장 발송]**

*"이건 쉬네. 그런데..."*

박 팀장은 **[API 키 관리]** 탭을 봅니다. Upstage Solar, OpenAI GPT-4, Claude API 키가 설정되어 있습니다.

**화면:**
```
🔑 API 키 상태
├─ Upstage Solar OCR: ✅ 활성 (크레딧 87% 남음)
├─ OpenAI GPT-4: ✅ 활성 (월 한도 $200 중 $45 사용)
├─ Anthropic Claude: ⚠️ 경고 (월 한도 $100 중 $92 사용)
└─ Google Document AI: ✅ 활성
```

*"Claude 한도 거의 다 찌네. 이번 달 말까지 추가 충전 해야겠는데,
 예산 신청은 언제 하지?"*

#### Climax: 장애 발생!

수요일 오후 2시, 알림이 울립니다.

```
🚨 시스템 경고
문제: Upstage Solar API 응답 지연 (현재 15초, 평소 2초)
영향: 분석 중인 사건 1건 지연
조치 중: 자동으로 Google Document AI로 백업 중
```

동시에, 슬랙 DM이 왑니다.

**김지현 변호사:** *"민수야, 지금 분석이 멈춰있는데?
 옆에 진행률 80%에서 5분 동안 안 움직여."*

박 팀장은 땀이 납니다. 법률 사무소인데, 시스템이 멈추면 큰일입니다.

관리자 화면의 **[실시간 로그]**를 봅니다:

```
[14:02:15] 문서 파싱 시작: 신한은행_홍길동.pdf
[14:02:17] Upstage Solar OCR 호출
[14:02:32] ⚠️ 타임아웃 (15초 경과)
[14:02:33] 🔄 백업 시도: Google Document AI
[14:02:45] ✅ 백업 성공: 742건 거래 추출 완료
[14:02:46] 분석 재개...
```

*"백업이 작동하긴 했네. 근데 원인은 뭐지?"*

박 팀장은 Upstate 대시보드를 확인합니다. *"아, 서울 리전 장애구나.
 우리만 문제가 아니네."*

#### Resolution: 자동 복구와 투명한 커뮤니케이션

박 팀장은 슬랙으로 답장을 보냅니다.

**박 팀장:** *"지현아, Upstate 쪽 일시적 장애였네.
 우리 시스템이 자동으로 Google 백업으로 전환했어.
 지금 분석 진행 중이니 1분 정도만 기다려.
 완료되면 알림 갈게."*

2분 뒤, 김 변호사의 전화가 옵니다.

*"야, 됐다! 결과 나왔어.
 근데 백업 작동한 줄도 몰랐네?
 그냥 아무일 없었다는 듯이 완료됐어."*

박 팀장은 안도의 한숨을 내쉽니다.

*"그렇게 설계했지. 사용자는 장애를 느끼면 안 되니까."*

#### 3개월 후: 운영이 안정화되고

박 팀장은 이제 매주 월요일 아침 루틴이 생겼습니다.
1. **사용자 현황 확인:** 신규 초대, 권한 변경
2. **API 사용량 체크:** Claude 한도 70% 찼을 때 예산 신청
3. **비용 모니터링:** 월 $300 수준. CFO에 정기 보고
4. **장애 리포트:** 지난달 99.95% 가용성 (목표 99.9% 초과)

어느 날, 파트너 변호사가 박 팀장을 호출합니다.

*"민수야, Paros 시스템 아주 안정적이더라.
 지난달에 장애 한 번도 없었던 것 같은데?"*

박 팀장이 웃으며 대답합니다.

*"실제로는 2번 있었는데요.
 자동 백업으로 전환해서 아무도 느끼지 못한 거죠.
 그게 우리 목표였으니까요."*

### Journey 3: 이서연 - 기술 지원 팀

**개요:**
이서연(28, 고객지원 2년 차)은 파로스의 기술 지원을 담당합니다. 변호사들이 "안 돼요", "틀렸어요"라고 연락해 올 때, 그녀는 침착하게 문제를 해결하고 신뢰를 유지해야 합니다.

#### Opening Scene: 화요일 오후의 긴급 전화

화요일 오후 4시 50분, 퇴근 10분 전. 전화가 울립니다.

**김지현 변호사:** *"서연아, 지금 급해.
 분석 결과가 이상해. 자산 처분 의심 건으로 5억원 건이 떴는데,
 그거 보험 해지 거래야. 자산 처분이 아니잖아.
 법원에 제출해야 되는데 지금 수정 좀 해줘."*

이서연은 심장이 쿵쿵 뜁니다. 변호사가 분석 결과를 신뢰하지 못하면 Paros의 신뢰도가 무너집니다.

#### Rising Action: 문제 진단

이서연은 침착하게 대답합니다.

**이서연:** *"지현 선생님, 진정하세요.
 제가 지금 바로 확인해볼게요.
 사건번호 말씀해주시겠어요?"*

사건번호 **2024-0012**를 받고, 이서연은 관리자 도구를 켭니다.

```
🔍 사건 상세 보기: 2024-0012
├─ 채무자: 홍길동
├─ 업로드 파일: 3개
├─ 분석 시간: 2024-01-07 14:32
├─ 의심 거래: 1건 (국민은행 5억원)
└─ 분석 모델: GPT-4
```

이서연은 **[원본 데이터 보기]**를 클릭합니다. 거래 상세를 봅니다.

```
날짜: 2024-02-15
출금: 500,000,000원
적요: [보험]삼성생명보험해지수령금
분석 결과: 🔴 자산 처분 강력 의심
신뢰도: 92%
```

*"아... '보험해지'라는 단어를 보고 자산 처분으로 분석했네.
 실제로는 보험 해지 보험금을 수령한 거구나."*

이서연은 GPT-4가 맥락을 오해한 것을 확인합니다.

#### Climax: 두 가지 해결책 제시

이서연은 다시 전화를 겁니다.

**이서연:** *"지현 선생님, 확인해봤어요.
 AI가 '보험해지'라는 텍스트를 보고 자산 처분으로 판단했네요.
 실제로는 보험금 수령이 맞죠?"*

**김 변호사:** *"맞아. 그거 빼고 나머지는 맞아."*

**이서연:** *"두 가지 방법이 있어요.

**방법 1 (빠름):**
선생님이 직접 화면에서 해당 거래의 '자산 처분 의심' 태그를 해제하세요.
오른쪽에 [태그 수정] 버튼 있을 거예요.
그다음 엑셀 다시 다운로드하시면 돼요.
30초면 끝나요.

**방법 2 (정확):**
제가 백엔드에서 이 거래를 '정상'으로 재분류할게요.
그 다음 재분석 버튼 누르면 전체 다시 분석돼요.
1분 정도 걸려요."*

**김 변호사:** *"방법 1으로 할게.
 지금 당장 제출해야 되니까."*

#### Resolution: 사용자 직접 수정의 힘

이서연은 화면 공유를 켜고 안내합니다.

**이서연:** *"선생님, 보이시나요?
해당 거래 행 맨 오른쪽에 [태그] 버튼 있죠?
그거 클릭하면 드롭다운 나와요.
'자산 처분 의심'에서 '정상 거래'로 선택하세요.
그다음 [저장] 버튼 누르면..."*

**김 변호사:** *"됐다!
엑셀 다시 다운로드 하면 되는 거지?"*

**이서연:** *"네.
오른쪽 상단에 [엑셀 다운로드] 클릭하세요."*

1분 뒤, 김 변호사의 안도감 섞인 목소리.

*"고마워 서연아.
덕분에 제출했어.
근데 이런 건 내가 직접 고칠 수 있어서 좋네.
매번 너한테 물어봐야 되면 귀찮거든."*

이서연은 미소 짓습니다.

*"그렇게 설계했어요.
선생님들이 전문가니까요.
AI가 틀리면 직접 수정하시는 게 빠르죠."*

### Journey 4: 박준혁 - 엣지 케이스와의 조우

**개요:**
박준혁(35, 법무사 5년 차)은 Paros를 처음 사용합니다. 그런데 업로드한 파일이... 조금 이상합니다.

#### Opening Scene: 손상된 파일

수요일 오전, 박 법무사는 새로운 사건을 맡았습니다. 채무자가 보내온 통장 내역을 보니...

*"...이 뭐야?"*

파일들을 확인해보니:
- `국민은행_홍길동.pdf` ✅ 정상
- `하나은행_홍길동.xlsx` ✅ 정상
- `우리은행_홍길동.jpg` ⚠️ **용량 0Bytes?**
- `신한은행_홍길동.pdf` ⚠️ **파일 손상됨**

박 법무사는 한숨을 쉽니다.

*"환장하겠네. 이걸 어떻게 업로드 해?"*

#### Rising Action: 명확한 에러 메시지

그래도 일단 Paros에 접속해서 4개 파일을 드래그 앤 드롭합니다.

**화면:**
```
⏳ 파일 업로드 중...

✅ 국민은행_홍길동.pdf (2.3MB)
✅ 하나은행_홍길동.xlsx (1.1MB)
❌ 우리은행_홍길동.jpg (0Bytes) - 파일 비어있음
❌ 신한은행_홍길동.pdf (손상됨) - 열 수 없는 파일

⚠️ 2개 파일을 제외하고 2개 파일로 분석을 진행합니다.

[계속] [취소하고 파일 다시 선택]
```

*"오, 메시지가 명확하네.
그냥 멈추는 게 아니라 뭘 해야 할지 알려주네."*

박 법무사는 **[계속]**를 클릭합니다. 정상 파일 2개로 일단 분석을 시작합니다.

```
⏳ 분석 진행 중... (33%)
✓ 문서 파싱 완료 (2개 파일)
⏳ 거래 내역 추출 중...
```

#### Climax: 부분 성공과 가이드

2개 파일 분석이 완료되었습니다. 화면 상단에 노란색 알림이 뜹니다.

```
⚠️ 일부 파일만 분석되었습니다

정상 분석된 파일: 2개 (국민은행, 하나은행)
분석 실패한 파일: 2개 (우리은행, 신한은행)

다음 방법으로 시도해보세요:

1. 📁 파일 다시 받기:
   채무자에게 원본 파일을 다시 요청하세요.

2. 📷 이미지 스캔:
   종이 통장 내역을 스캔해서 이미지(JPG/PNG)로 업로드.

3. 📋 수동 입력:
   [수동 입력] 버튼을 눌러 직접 거래를 입력할 수도 있습니다.

[도움말 보기] [닫기]
```

*"아, 옵션을 주는구나.
수동 입력도 되나?"*

박 법무사는 채무자에게 카카오톡을 보냅니다.

*"홍길동 고객님, 우리은행, 신한은행 파일이 손상된 것 같습니다.
 원본 파일을 다시 보내주실 수 있나요?"*

#### Rising Action 2: 수동 입력으로 해결

30분 후, 채무자가 답장합니다.

*"죄송합니다.
 파일 다시 보내드립니다."*

박 법무사는 다운로드한 파일을 확인합니다. 그런데...

*"이건 엑셀이 아니고 그냥 텍스트로 된 메모장이네?
 은행 홈페이지에서 복사한 거구나."*

파일을 열어보니:

```
[거래 내역]
2024-01-05 출금 50,000원 EMART 킴스점
2024-01-08 출금 120,000원 주유소
...
```

*"이건 Paros가 인식할 수 있겠나?"*

일단 업로드해봅니다.

```
❌ 지원하지 않는 파일 형식입니다
.txt 파일은 현재 지원하지 않습니다.

지원 형식: PDF, 엑셀(XLSX), 이미지(JPG, PNG)

[파일 변환기] [도움말]
```

박 법무사는 **[파일 변환기]**를 클릭합니다.

```
📝 텍스트를 엑셀로 변환

텍스트를 붙여넣으시면 자동으로 엑셀 형식으로 변환해드립니다.

[텍스트 입력란]
-----------------------------------------------
날짜 | 출금/입금 | 금액 | 내역
-----------------------------------------------

[변환하고 엑셀 다운로드]
```

*"오, 이런 기능도 있네!"*

박 법무사는 텍스트를 복사해서 붙여넣습니다. **[변환]**을 클릭하니 깔끔한 엑셀이 다운로드됩니다. 그걸 다시 Paros에 업로드합니다.

#### Resolution: 성공과 배운 점

결과적으로:
- 국민은행, 하나은행: 자동 분석 ✅
- 신한은행: 파일 변환기로 엑셀 변환 후 업로드 ✅
- 우리은행: 채무자가 재전송한 PDF 파일 ✅

총 4개 계좌 모두 분석 완료.

박 법무사는 생각합니다.

*"첫엔 당황했는데,
 에러 메시지가 명확하고 대안을 제시해줘서 금방 해결했네.
 파일 변환기는 진짜 필요하겠다.
 은행 홈페이지에서 복사한 텍스트 많거든."*

#### Epilogue: 동료에게 팁 공유

다음 날, 점심을 먹으며 동료에게 말합니다.

*"야, Paros 쓸 때 파일 형식 봐.
 PDF, 엑셀, 이미지만 되니까.
 그리고 파일 손상됐으면 에러 메시지 읽어봐.
 해결책 다 알려줘."*

---

### Journey Requirements Summary

이 4개의 여정이 밝혀낸 전체 기능 요구사항:

#### 핵심 기능 (MVP)
- **드래그 앤 드롭 다중 파일 업로드** (PDF, 엑셀, 이미지 혼합 지원)
- **실시간 진행률 및 프로세스 피드백** (어떤 파일이 처리 중인지 명확히)
- **핵심 발견 요약 대시보드** (3초 규칙)
- **금액/유형/기간별 필터링** (사용자 설정 가능)
- **엑셀/이미지/클립보드로 내보내기** (보고서에 바로 활용)
- **태그 직접 수정** (AI 분석 결과를 사용자가 수동 보정)

#### 관리자 기능
- **사용자 초대 및 권한 관리** (이메일 초대, 역할 설정)
- **API 키 관리 및 사용량 모니터링** (한도 경고, 비용 추적)
- **시스템 상태 대시보드** (활성 사용자, 처리 사건, API 호출)
- **실시간 로그 및 장애 추적** (각 사건의 처리 단계 추적)

#### 지원 기능
- **명확한 에러 메시지** (어떤 파일이 문제인지, 왜 실패했는지)
- **부분 분석 지원** (일부 파일 실패 시 정상 파일은 계속 진행)
- **파일 변환기** (텍스트 → 엑셀 변환)
- **관리자용 원본 데이터 조회** (지원팀이 거래 상세 확인)

#### 신뢰성 기능
- **자동 API 백업** (Upstate → Google 등 장애 시 자동 전환)
- **사용자에게 투명한 진행률** (백업 전환 시에도 진행률 표시)
- **사용자 수정 가능한 UI** (AI 오류를 사용자가 직접 보정)

---

## Domain-Specific Requirements

### Legaltech Compliance & Regulatory Overview

Paros는 **회생 파산 전문 법인을 위한 데이터 분석 및 문서 작성 자동화 도구**입니다.
법률 도메인의 특수성을 고려하여 다음과 같은 윤리적, 법적 요구사항을 준수합니다.

**핵심 원칙:**
- Paros는 법률 조언을 제공하는 시스템이 **아닙니다**
- Paros는 데이터 분석 및 문서 작성 **보조 도구**입니다
- 최종 판단과 법적 책임은 **반드시 변호사**에게 있습니다

### Key Domain Concerns

#### 1. Legal Ethics (법률 윤리)

**문단 생성 및 소명 자료 작성:**
- 회생 파산 절차의 진술/소명 과정에서 **문단 단위 텍스트 생성**이 필요
- 예: "채무자는 2024년 2월 15일 5억원을 출금하여 부동산을 취득하였습니다..."
- 차트, 도식 등 시각적 자료 생성 (법관 이해도 향상)
- AI 생성 텍스트에 **면책 조항** 필요: *"이 내용은 AI가 생성한 초안입니다. 반드시 변호사가 검토 후 사용하세요."*

**보정 명령 대응:**
- 보정 대응의 기본은 채무자의 협조
- 채무자에게 협조 요청하는 **안내문 자동 작성** 필요
- 예: "법원에서 추가 자료를 요청했습니다. 다음 서류를 제출해주시길 바랍니다..."

**책임 소재 명확화:**
- UI에 명시적 표시: *"분석 결과는 참고용입니다. 최종 판단은 변호사의 책임입니다."*
- 모든 AI 생성 문서에 *"초안임. 검토 필요"* 워터마크

#### 2. Data Security & API Usage (데이터 보안 및 API 활용)

**외국 API 사용:**
- 현재 한국 법률상 외국 API(GPT, Claude 등) 사용에 **법적 제약 없음**
- 다만, 민감한 금융 데이터를 외국 서버로 전송하므로 **사용자 동의** 필요
- **사용자 선택 옵션** 제공:
  - ☑ "외국 API(GPT/Claude) 사용에 동의합니다"
  - ☐ "한국 AI(Upstage Solar)만 사용합니다"

**데이터 마스킹:**
- 계좌번호: ***1234 (중간 4자리만)
- 이름: 홍*동 (성만)
- 주소/연락처: 완전 제거 또는 마스킹

**데이터 전송 기록:**
- 외국 API로 전송 시 기록 보관 (어떤 데이터, 언제, 어디로)
- 감사 로그: 누가, 언제, 어떤 분석을 수행했는지

#### 3. Data Retention (데이터 보존)

**평생 보관 정책:**
- 회생 파산 사건의 **증거 보존** 의무로 인해 데이터 **평생 보관**
- 분석 결과, 원본 파일, 수정 이력 모두 보관
- **법정 청구권 보호** (일반 민사 사건은 10년, 회생 파산은 특별 규정)

**보관 기간:**
- 원본 통장 내역: 평생
- 분석 결과: 평생
- 수정 이력: 평생
- API 호출 로그: 최소 7년 (상사법 규정)

**저장 위치:**
- 기본: 한국 내 서버 (AWS Seoul)
- 백업: 한국 내 2개 지역 (이중화)

#### 4. Court System Integration (법원 시스템 연계)

**법원 제출 서류 양식 준수:**
- 채무자 안내서 제외, 거의 모든 서류는 **법원 제출 양식** 정해져 있음
- 엑셀/이미지 다운로드 시 법원 양식에 맞춰 포맷 자동화
- 예: 신고서 별지, 재산 목록, 채권자 목록 등

**문서 포맷:**
- PDF 출력 시 법원 제출 규격 (A4, 폰트 크기, 여백)
- 엑셀 출력 시 법원 전자민원 시스템 업로드 가능한 형식
- 이미지 출력 시 고해상도 (스캔 인쇄 가능)

**향후 연계 (Vision):**
- 법원 전자민원 시스템 API 직접 연동
- 제출 서류 자동 업로드
- 접수증 자동 수신

### Compliance Requirements

#### 개인정보 보호법 준수
- **개인정보 수집 동의:** 채무자의 통장 내역 수집 시 동의 필요
- **비식별 조치:** 계좌번호, 이름 마스킹
- **제3자 제공 금지:** 의뢰인 동의 없이 제3자에게 제공 금지

#### 금융 실명법 준수
- 통장 내역 취급 시 **금융 기관 동의** 필요
- 거래 내역은 목적 외 사용 금지 (회생 파산 절차에 한함)

#### 신용정보법 준수
- 채무자의 신용 정보 보호
- 일정 기간 경과 후 정보 파기 (단, 회생 파산 사건은 예외)

### Industry Standards & Best Practices

#### 법률 AI 도구 표준
- **AI Transparency:** AI가 생성했음을 명시
- **Human-in-the-loop:** 반드시 인간(변호사) 검토 단계 거침
- **Explainability:** AI 분석 결과에 근거 표시 (예: "5억원 출금 → 자산 처분 패턴 매칭")

#### 문서 관리 표준
- **버전 관리:** 모든 문서 수정 이력 추적
- **서명:** 변호사 전자 서명 (문서 위변조 방지)
- **타임스탬프:** 문서 작성/수정 시간 기록

### Required Expertise & Validation

#### 필요한 전문 지식
- **회생 파산법:** 절차, 서류, 법정 기간
- **금융 거래 패턴:** 자산 처분, 이체 행위 식별
- **법원 양식:** 신고서, 보정 명령 대응서 형식

#### 검증 요구사항
- **정확도 검증:** 변호사 3명 이상이 샘플 데이터로 검증
- **실무 테스트:** 실제 진행 중인 사건으로 파일럿 테스트
- **법률 리뷰:** 법무법인의 담당 변호사가 법적 리스크 검토

### Implementation Considerations

#### 개발 시 Sequencing
1. **Phase 1 (MVP):** 기본 데이터 분석 + 엑셀 다운로드
2. **Phase 2:** 문단 생성 기능 + 채무자 안내문
3. **Phase 3:** 차트/도식 생성 + 법원 양식 자동화
4. **Phase 4 (Vision):** 법원 시스템 직접 연동

#### 필수 기능 (Mandatory)
- ✅ 법적 책임 면책 조항 표시
- ✅ 사용자 동의 (외국 API, 데이터 보관)
- ✅ 데이터 마스킹
- ✅ 평생 보관 (한국 서버)
- ✅ 버전 관리

#### 선택 기능 (Future)
- ⏳ 문단 생성 (진술/소명)
- ⏳ 차트/도식 생성
- ⏳ 채무자 안내문 자동 작성
- ⏳ 법원 시스템 연동

---

## Web App Specific Requirements

### Project-Type Overview

Paros는 **Next.js (React 기반 SSR)** 기반의 모던 웹 애플리케이션입니다.
법률 실무자를 위한 데이터 분석 도구로서, 브라우저와 태블릿 환경에서 최적의 사용자 경험을 제공합니다.

**핵심 아키텍처:**
- **프레임워크:** Next.js (React + SSR)
- **이유:** 초기 로딩 속도, SEO, 성능 최적화
- **배포:** Vercel 또는 AWS Amplify

### Technical Architecture Considerations

#### 1. SPA vs MPA: Hybrid Approach (Next.js SSR)

**아키텍처 결정:**
- **Next.js App Router:** SSR + 클라이언트 사이드 렌더링 혼합
- **페이지 단위 SSR:** 초기 페이지는 서버 사이드 렌더링
- **인터랙티브 컴포넌트:** 대시보드, 필터, 타임라인은 클라이언트 사이드

**이유:**
- ✅ **초기 로딩 속도:** 서버 사이드 렌더링으로 첫 화면 빠르게 표시
- ✅ **SEO:** 검색 엔진 최적화 (향후 마케팅 고려)
- ✅ **사용자 경험:** 페이지 전환 없이 부드러운 SPA 같은 경험

#### 2. Browser Matrix (브라우저 지원)

**타겟 브라우저:**
- ✅ Chrome (최신 버전 ± 2)
- ✅ Edge (Chromium 기반, 최신 ± 2)
- ✅ Safari (최신 ± 2)
- ✅ Firefox (최신 ± 2)
- ❌ IE11 지원 안 함 (2022년 지원 종료)

**모던 브라우저 기능 활용:**
- ES6+ 문법
- CSS Grid, Flexbox
- Fetch API, WebSocket
- File API (드래그 앤 드롭)

#### 3. Responsive Design & Tablet Support

**반응형 디자인:**
- **Desktop:** 1920px+, 1366px (주요 데스크톱)
- **Laptop:** 1024px (노트북)
- **Tablet (iPad):** 768px - 1024px ✅ 필수 지원
- **모바일:** 375px+ (선택적, 향후 고려)

**iPad 최적화:**
- 터치 인터페이스 지원
- 세로/가로 모드 모두 지원
- iPad Pro 12.9" 대형 화면 지원
- 사파리 브라우저 호환성

**CSS 프레임워크:**
- Tailwind CSS (반응형 유틸리티 클래스)
- Breakpoints: `sm: 640px`, `md: 768px`, `lg: 1024px`, `xl: 1280px`, `2xl: 1536px`

#### 4. Performance Targets (성능 목표)

**Core Web Vitals (Google 표준):**
- **LCP (Largest Contentful Paint):** < 2.5초
- **FID (First Input Delay):** < 100ms
- **CLS (Cumulative Layout Shift):** < 0.1

**Paros 특화 목표:**
- **TTI (Time to Interactive):** < 3초 (첫 인사이트)
- **업로드 진행률:** 실시간 WebSocket/SSE 업데이트
- **분석 완료:** 1분 이내 (백엔드 API + 프론트염드 처리)
- **페이지 전환:** < 500ms (Next.js 페이지 라우팅)

**최적화 기술:**
- Next.js Image Optimization (이미지 최적화)
- 코드 스플리팅 (Code Splitting)
- lazy loading (지연 로딩)
- CDN (Vercel Edge Network)

#### 5. Real-time Features (실시간 기능)

**실시간 업데이트:**
- **진행률 표시:** WebSocket 또는 Server-Sent Events (SSE)
- **분석 상태:** "문서 파싱 중... (30%)" 실시간 업데이트
- **장애 알림:** 시스템 장애 시 실시간 사용자 통지

**기술 선택:**
- **WebSocket:** 양방향 통신 필요할 때 (예: 실시간 채팅, 협업)
- **SSE:** 서버 → 클라이언트 단방향 (현재 프로젝트에 적합)
- **폴링:** Fallback (WebSocket/SSE 실패 시)

#### 6. SEO Strategy (검색 엔진 최적화)

**현재:** 내부 도구이므로 SEO 불필요

**향후 (외부 공개 시):**
- Next.js Metadata API
- Semantic HTML
- Open Graph Tags
- Sitemap.xml
- robots.txt

#### 7. Accessibility Level (접근성)

**결정:** 접근성 준수 **불필요**

**이유:**
- 내부 전문가용 도구 (법률 실무자만 사용)
- 일반 공개되지 않음
- 사용자 집단이 명확하고 IT 능력 있음

**다만 기본적 UX:**
- 키보드 네비게이션 (Tab 키 지원)
- 명확한 라벨링
- 적절한 색상 대비 (눈의 편의성)

### Implementation Considerations

#### Frontend Stack

```javascript
// 추천 기술 스택
{
  "framework": "Next.js 14+ (App Router)",
  "language": "TypeScript",
  "styling": "Tailwind CSS",
  "state": "React Query (TanStack Query)",
  "forms": "React Hook Form",
  "tables": "TanStack Table",
  "charts": "Recharts 또는 Chart.js",
  "upload": "React Dropzone",
  "realtime": "Server-Sent Events (SSE)"
}
```

#### State Management

**서버 상태:**
- React Query (TanStack Query) - 서버 데이터 캐싱
- 파일 업로드 진행률
- 분석 결과

**클라이언트 상태:**
- Zustand 또는 React Context
- 필터 상태 (금액, 유형, 기간)
- UI 상태 (모달, 사이드바)

#### File Upload

**드래그 앤 드롭:**
- react-dropzone 라이브러리
- 다중 파일 업로드
- 진행률 표시 (Axios Progress Event)
- 파일 크기 제한: 최대 50MB per file
- 형식 검증: `.pdf`, `.xlsx`, `.jpg`, `.png`

#### Data Visualization

**차트/시각화:**
- **Recharts:** 간단한 차트 (타임라인, 바 차트)
- 또는 **Chart.js:** 더 많은 차트 타입
- **D3.js:** 복잡한 커스텀 시각화 (Future)

#### Security (웹 보안)

**프론트엔드:**
- HTTPS 강제 (모든 요청)
- CSP (Content Security Policy) 헤더
- XSS 방지 (React 기본 제공)
- CSRF 토큰

**인증:**
- NextAuth.js 또는 Clerk
- JWT 토큰 (HttpOnly Cookie)
- 세션 만료: 8시간 (업무 시간 고려)

#### Deployment

**배포 환경:**
- **Vercel** (Next.js 개발사 플랫폼) - 추천
- 또는 **AWS Amplify**
- **CDN:** 전 세계 엣지 네트워크

**환경 변수:**
```env
NEXT_PUBLIC_API_URL=https://api.paros.law
UPSTAGE_SOLAR_API_KEY=***
OPENAI_API_KEY=***
ANTHROPIC_API_KEY=***
```

#### Monitoring

**성능 모니터링:**
- Vercel Analytics (Core Web Vitals)
- Sentry (에러 추적)

**사용자 행동 분석:**
- Google Analytics 4 (Future)
- 또는 Amplitude (이벤트 추적)

---

## Project Scoping & Phased Development

### MVP Strategy & Philosophy

**MVP 접근 방식:** Problem-Solving MVP + Experience MVP 혼합

**철학:**
- **핵심 문제 해결:** 수동 통장 분석의 시간 소모(4-8시간 → 30분)
- **사용자 경험:** 분석 결과를 엑셀로 바로 내보내서 보고서 작성
- **신뢰 형성:** 첫 경험에서 "이거 유용하다"는 느낌 주기

**자원 요구사항:**
- **BMad 표준 팀:** 풀스택 개발팀 (FE, BE, 디자이너, PM)
- **개발 기간:** 2-3달 (MVP)
- **운영:** IT 팀장 1명 (백업, 모니터링)

### MVP Feature Set (Phase 1)

**지원되는 핵심 사용자 여정:**
- ✅ 여정 1: 김지현 변호사 (주 사용자 성공 경로) - 핵심만
- ⏸️ 여정 2: 박민수 팀장 (관리자) - 최소한의 관리 기능만
- ❌ 여정 3, 4: 지원팀, 엣지 케이스 - Post-MVP

**Must-Have 기능:**

#### 1. 문서 업로드
- 드래그 앤 드롭 다중 파일 업로드
- 지원 형식: PDF, 엑셀(XLSX), 이미지(JPG/PNG)
- 파일 크기 제한: 최대 20개 파일, 각 50MB
- 업로드 진행률 표시

#### 2. 자동 분석
- 한국어 OCR (Upstage Solar API)
- 거래 내역 추출
- **기본 필터링만:**
  - 1억원 이상 출금건
  - 자산 처분 의심 건 (GPT/Claude)
- ❌ **제외:** 타임라인 뷰, 고급 필터링, 부동산 계약서 매칭

#### 3. 결과 조회 - 간단 버전
- **대시보드만:** 핵심 발견 3가지 요약
  - 자산 처분 의심 건
  - 1억원 이상 대규모 출금
  - 계좌 간 이체 패턴
- **간단 필터:** 금액 기준 (100만/1천만/1억원)
- ❌ **제외:** 타임라인 뷰, 복합 조건 필터

#### 4. 데이터 내보내기 ⭐ 핵심 성공 기능
- **엑셀 다운로드:** 전체/선택 거래
- **이미지 다운로드:** 필터링 결과 (PNG)
- **클립보드 복사:** 표 형식
- 바로 보고서에 붙여넣기 가능

#### 5. 프로세스 피드백
- 실시간 진행률 (SSE)
- 단계별 표시 (문서 파싱 → 추출 → 분석 → 완료)
- 예상 소요 시간

#### 6. 기본 UI/UX
- 반응형 디자인 (Desktop + iPad)
- 명활한 에러 메시지
- 부분 분석 지원 (일부 파일 실패 시 계속 진행)
- 태그 직접 수정 (AI 분석 결과 보정)

**관리자 기능 (최소):**
- 사용자 초대 (이메일)
- 기본 시스템 모니터링 (활성 사용자, 처리 사건)
- API 키 관리 (Upstage, OpenAI, Claude)

### Post-MVP Features

**Phase 2 (Post-MVP) - Growth:**

#### 추가 기능
- **타임라인 뷰:** 시각적 자금 흐름 추적
- **고급 필터링:**
  - 맞춤 금액 범위
  - 복합 조건 (AND/OR)
  - 저장된 필터 프리셋
- **부동산 계약서 매칭:**
  - 계약서 업로드
  - 관련 거래 자동 매칭
- **협업 기능:**
  - 분석 결과 공유
  - 코멘트 및 태그
  - 버전 관리
- **분석 히스토리:**
  - 과거 사건 검색
  - 패턴 학습
- **AI 모델 선택:**
  - GPT/Claude/Grok 선택 옵션
  - 비용 vs 정확도 트레이드오프

#### 관리자 기능 확장
- **API 사용량 모니터링:**
  - 한도 경고 (90%, 95%)
  - 비용 추적
- **자동 장애 복구:**
  - API 백업 (Upstate → Google)
  - 사용자에게 투명한 알림
- **실시간 로그:**
  - 각 사건 처리 단계 추적
  - 장애 발생 원인 파악

**Phase 3 (Expansion) - Vision:**

#### 문서 생성 자동화 ⭐ Paros 핵심 기능
- **진술/소명 문단 생성:** AI가 문단 작성
- **보정 명령 대응서:** 자동 작성 초안
- **채무자 안내문:** 협조 요청 안내 작성
- **법원 제출 서류:** 신고서, 보고서 자동 생성

#### 차트/도식 생성
- 자금 흐름 차트
- 타임라인 시각화
- 법관 이해도 향상을 위한 도식

#### 법원 시스템 연동
- 법원 전자민원 시스템 API 직접 연동
- 제출 서류 자동 업로드
- 접수증 자동 수신

#### 종합 AI 코파일럿
- 회생 절차 전체 단계 가이드
- 법률 검색 및 판례 추천
- 문서 간 연계 분석

### Risk Mitigation Strategy

**기술적 위험:**

1. **OCR 정확도 95%**
   - **완화:** Upstage Solar (한국어 특화) + Google Document AI 백업
   - **사용자 보정:** 태그 직접 수정 기능으로 오류 보정
   - **검증:** 변호사 3명 이상 샘플 데이터 검증

2. **외부 API 의존성**
   - **다중 API:** Upstate + Google + GPT/Claude (선택적)
   - **자동 백업:** 타임아웃 시 자동 전환
   - **사용자 선택:** "한국 AI만 사용" 옵션

3. **실시간 피드백 구현**
   - **단순화:** SSE (Server-Sent Events) 단방향
   - **폴링 Fallback:** SSE 실패 시 5초마다 폴링
   - **명확한 메시지:** "분석 중... (30%)" 진행률

**시장 위험:**

1. **AI에 대한 변호사들의 불신**
   - **포지셔닝:** AI는 "보조 도구", 최종 판단은 변호사
   - **면책 조항:** 모든 AI 생성물에 "초안임, 검토 필요" 표시
   - **실무 테스트:** 실제 진행 중인 사건으로 파일럿

2. **첫 기능 실패 시 전체 시스템 실패**
   - **집중:** "신뢰의 문" 기능에 모든 역량
   - **빠른 피드백:** 첫 달 5명 사용자와 긴밀히 협업
   - **신속 수정:** 문제 발견 시 즉시 대응

**자원 위험:**

1. **개발 기간 연장**
   - **순위 조정:** 기능 슬라이싱 (타임라인 뷰 제외)
   - **MVP 축소:** 고급 필터링, 부동산 매칭 제거
   - **애자일:** 2주 스프린트로 개선

2. **팀 리스크**
   - **BMad 표준:** 풀스택 팀 (PM, 디자이너, FE, BE)
   - **외부 API 활용:** 개발 시간 단축
   - **No-Code/Low-code:** 관리자 도구는 간단한 것만

### Implementation Timeline

**Phase 1: MVP (2-3달)**

| 주차 | 목표 |
|------|------|
| 1-2 | 아키텍처 설계, 기술 스택 선택, UI 디자인 |
| 3-4 | 문서 업로드 + OCR 구현 |
| 5-6 | 기본 분석 + 필터링 |
| 7-8 | 대시보드 + 엑셀 다운로드 |
| 9-10 | 프로세스 피드백 (실시간 진행률) |
| 11-12 | 테스트, 버그 수정, 배포 |

**Phase 2: Growth (2-3달, MVP 후)**

- 타임라인 뷰
- 고급 필터링
- 협업 기능
- 관리자 기능 확장

**Phase 3: Expansion (6-12달)**

- 문서 생성 자동화
- 차트/도식 생성
- 법원 시스템 연동

---

## Functional Requirements

### Overview

이 섹션은 Paros 자금 흐름 추적 분석 시스템의 **기능적 요구사항(Functional Requirements: FR)**을 정의합니다.

**목적:**
- UX 디자이너, 아키텍트, 개발자가 작업하는 **"역량 계약서"**
- 모든 기능을 **테스트 가능한 형태**로 명세
- 기술 구현과 무관한 **역량 중심** 조직화

**조직화 원칙:**
- 기술 계층(프론트엔드/백엔드)이 아닌 **사용자 역량** 중심
- 각 FR은 독립적으로 테스트 가능
- 형식: **"FR#: [Actor] can [capability]"**

---

### Capability Area 1: 문서 업로드 및 처리 (Document Upload & Processing)

**사용자 역할:** 변호사, 법무사

**FR1: 다중 파일 업로드**
- **설명:** 사용자는 최대 20개의 통장 내역 파일을 동시에 업로드할 수 있다
- **지원 형식:** PDF, XLSX, JPG, PNG
- **파일 크기:** 각 파일 최대 50MB
- **테스트 가능성:** 20개 파일 동시 업로드 시 모두 정상 처리되는지 확인

**FR2: 드래그 앤 드롭 업로드**
- **설명:** 사용자는 파일을 드래그 앤 드롭으로 업로드 영역에 놓을 수 있다
- **지원 동작:** 마우스 드래그, 터치 드래그 (iPad)
- **테스트 가능성:** 5개 파일을 드래그 앤 드롭으로 업로드 시 정상 처리되는지 확인

**FR3: 업로드 진행률 실시간 표시**
- **설명:** 사용자는 각 파일의 업로드 진행률을 실시간으로 볼 수 있다
- **표시 내용:** 파일명, 진행률 %, 현재 상태(업로 중/완료/실패)
- **테스트 가능성:** 10MB 파일 업로드 시 진행률이 0% → 100%까지 업데이트되는지 확인

**FR4: 파일 형식 자동 감지 및 검증**
- **설명:** 시스템은 업로드된 파일의 형식을 자동으로 감지하고 지원 여부를 판단한다
- **지원 형식:** .pdf, .xlsx, .xls, .jpg, .png
- **거부 형식:** .txt, .doc, .docx, .hwp 등
- **테스트 가능성:** 지원하지 않는 형식(.txt) 업로드 시 명확한 에러 메시지가 표시되는지 확인

**FR5: 손상된 파일 감지**
- **설명:** 시스템은 손상되었거나 비어있는 파일(0Bytes)을 감지한다
- **표시:** "파일이 손상됨" 또는 "파일이 비어있음" 메시지
- **테스트 가능성:** 손상된 PDF 파일 업로드 시 에러 메시지가 표시되는지 확인

**FR6: 부분 업로드 지원**
- **설명:** 일부 파일이 실패해도 정상 파일로 분석을 계속 진행할 수 있다
- **사용자 선택:** "계속 진행" 또는 "취소하고 파일 다시 선택"
- **테스트 가능성:** 5개 파일 중 2개 실패 시 3개로 분석이 진행되는지 확인

---

### Capability Area 2: 자동 분석 및 패턴 인식 (Automated Analysis & Pattern Recognition)

**사용자 역할:** 시스템 (사용자는 결과만 확인)

**FR7: 한국어 OCR 처리**
- **설명:** 시스템은 한국어 통장 내역 이미지/PDF에서 텍스트를 추출한다
- **지원 은행:** 모든 한국 은행의 통장 내역 형식
- **정확도:** 95% 이상
- **테스트 가능성:** 스캔된 신한은행 통장 이미지 업로드 시 거래 내역이 정확히 추출되는지 확인

**FR8: 거래 내역 구조화**
- **설명:** 시스템은 추출된 텍스트를 구조화된 거래 데이터로 변환한다
- **추출 필드:** 거래일시, 출금/입금 구분, 금액, 잔액, 적요, 상대방
- **테스트 가능성:** 엑셀 파일 업로드 시 모든 필드가 정확히 파싱되는지 확인

**FR9: 다중 계좌 통합 분석**
- **설명:** 시스템은 여러 은행/계좌의 거래 내역을 통합 분석한다
- **통합 기준:** 채무자 식별, 날짜 범위, 자금 흐름 연계
- **테스트 가능성:** 3개 은행 5개 계좌 업로드 시 모든 계좌가 하나의 분석 결과로 통합되는지 확인

**FR10: 자산 처분 의심 건 식별**
- **설명:** 시스템은 자산 처분 패턴(부동산 매매, 자산 양도 등)을 자동으로 식별한다
- **패턴:** 대규모 출금 + "매매", "양도", "취득" 등 키워드
- **표시:** 🔴 자산 처분 강력 의심 태그
- **테스트 가능성:** 5억원 출금 + "부동산매매" 적요 포함 거래가 "자산 처분 의심"으로 식별되는지 확인

**FR11: 대규모 출금 필터링**
- **설명:** 시스템은 1억원 이상 출금건을 자동으로 필터링한다
- **기본 기준:** 1억원 이상
- **표시:** 🟡 대규모 출금 건 수와 합계
- **테스트 가능성:** 1억원 이상 출금 7건 포함 시 "대규모 출금 7건"으로 요약되는지 확인

**FR12: 계좌 간 이체 패턴 감지**
- **설명:** 시스템은 특정 계좌로 자금이 집중되는 패턴을 감지한다
- **패턴:** 동일한 상대방으로 다수 이체, 특정 계좌로의 반복적 입금
- **표시:** 🟠 계좌 간 이체 패턴 건 수
- **테스트 가능성:** 동일 계좌로 23회 이체 시 "계좌 간 이체 패턴 23건"으로 표시되는지 확인

---

### Capability Area 3: 분석 결과 조회 및 탐색 (Analysis Results & Navigation)

**사용자 역할:** 변호사, 법무사

**FR13: 핵심 발견 3가지 요약 대시보드**
- **설명:** 사용자는 분석 완료 후 핵심 발견 3가지를 한눈에 볼 수 있다
- **표시 항목:**
  1. 자산 처분 의심 건 수 및 상세
  2. 1억원 이상 대규모 출금 건 수 및 합계
  3. 계좌 간 이체 패턴 건 수
- **3초 규칙:** 사용자가 3초 안에 핵심 인사이트를 파악할 수 있어야 함
- **테스트 가능성:** 분석 완료 후 첫 화면에 3가지 핵심 발견이 즉시 표시되는지 확인

**FR14: 금액별 필터링**
- **설명:** 사용자는 금액 기준으로 거래를 필터링할 수 있다
- **기본 옵션:** 100만원 이상, 1천만원 이상, 1억원 이상
- **테스트 가능성:** "1억원 이상" 선택 시 해당 거래만 필터링되는지 확인

**FR15: 거래 상세 보기**
- **설명:** 사용자는 각 거래의 상세 정보를 볼 수 있다
- **표시 항목:** 거래일시, 출금/입금, 금액, 잔액, 적요, 상대방, 계좌번호(마스킹)
- **테스트 가능성:** 특정 거래 클릭 시 상세 정보가 표시되는지 확인

**FR16: 원본 데이터 확인**
- **설명:** 관리자는 업로드된 원본 통장 내역을 확인할 수 있다
- **목적:** 지원팀이 분석 결과의 정확성을 검증
- **테스트 가능성:** 관리자 계정으로 원본 PDF 열람이 가능한지 확인

---

### Capability Area 4: 데이터 내보내기 ⭐ 핵심 성공 기능 (Data Export)

**사용자 역할:** 변호사, 법무사

**FR17: 전체 거래 엑셀 다운로드**
- **설명:** 사용자는 전체 거래 내역을 엑셀 파일(.xlsx)로 다운로드할 수 있다
- **포함 항목:** 거래일시, 출금/입금, 금액, 잔액, 적요, 상대방, 태그
- **형식:** 법원 제출 가능한 깔끔한 엑셀 포맷
- **테스트 가능성:** "전체 다운로드" 클릭 시 모든 거래가 포함된 엑셀이 다운로드되는지 확인

**FR18: 선택 거래 엑셀 다운로드**
- **설명:** 사용자는 선택한 거래만 엑셀로 다운로드할 수 있다
- **선택 방법:** 체크박스로 다중 선택
- **테스트 가능성:** 5건 선택 후 "선택 다운로드" 클릭 시 5건만 포함된 엑셀이 다운로드되는지 확인

**FR19: 필터링 결과 엑셀 다운로드**
- **설명:** 사용자는 현재 필터링된 결과를 엑셀로 다운로드할 수 있다
- **예시:** "1억원 이상" 필터 적용 후 다운로드 → 해당 거래만 포함
- **테스트 가능성:** 필터 적용 후 다운로드 시 필터링된 결과만 엑셀에 포함되는지 확인

**FR20: 이미지 다운로드**
- **설명:** 사용자는 현재 화면(필터링 결과, 대시보드)을 이미지(PNG)로 다운로드할 수 있다
- **해상도:** 고해상도 (스캔/인쇄 가능)
- **테스트 가능성:** 대시보드 화면 캡처 이미지 다운로드 시 깔끔한 PNG로 저장되는지 확인

**FR21: 클립보드 복사 (표 형식)**
- **설명:** 사용자는 선택한 거래를 클립보드에 표 형식으로 복사할 수 있다
- **용도:** Word, PPT 등에 바로 붙여넣기
- **형식:** 탭(\t) 구분 표
- **테스트 가능성:** 5건 선택 후 "클립보드 복사" → Word에 붙여넣기 시 표로 붙여넣어지는지 확인

**FR22: 클립보드 복사 (텍스트 형식)**
- **설명:** 사용자는 선택한 거래를 텍스트로 복사할 수 있다
- **형식:** 각 거래를 줄바꿈으로 구분
- **테스트 가능성:** "텍스트 복사" → 메모장에 붙여넣기 시 가독성 있는 텍스트로 붙여넣어지는지 확인

---

### Capability Area 5: AI 분석 결과 보정 (AI Result Correction)

**사용자 역할:** 변호사, 법무사

**FR23: 태그 직접 수정**
- **설명:** 사용자는 AI가 부여한 태그를 직접 수정할 수 있다
- **수정 가능 태그:** 자산 처분 의심 → 정상 거래, 기타
- **UI:** 각 거래 행의 오른쪽 [태그] 버튼 → 드롭다운 선택
- **테스트 가능성:** "자산 처분 의심" 태그를 "정상 거래"로 변경 후 저장되는지 확인

**FR24: 수정된 태그 내보내기 반영**
- **설명:** 사용자가 태그를 수정 후 다운로드 시 수정 내용이 반영된다
- **반영 대상:** 엑셀, 이미지, 클립보드 모두
- **테스트 가능성:** 태그 수정 후 엑셀 다운로드 시 수정된 태그가 포함되는지 확인

**FR25: 태그 수정 이력 기록**
- **설명:** 시스템은 태그 수정 이력을 기록한다
- **기록 항목:** 수정자, 수정 시간, 변경 전 태그, 변경 후 태그, 사유(선택)
- **테스트 가능성:** 태그 수정 후 관리자 화면에서 수정 이력을 볼 수 있는지 확인

---

### Capability Area 6: 실시간 프로세스 피드백 (Real-time Process Feedback)

**사용자 역할:** 변호사, 법무사

**FR26: 분석 진행률 실시간 표시**
- **설명:** 사용자는 전체 분석 진행률을 %로 실시간 볼 수 있다
- **표시:** "⏳ 분석 진행 중... (30%)"
- **기술:** SSE (Server-Sent Events) 또는 폴링
- **테스트 가능성:** 분석 시작 후 진행률이 0% → 100%까지 업데이트되는지 확인

**FR27: 단계별 진행 상태 표시**
- **설명:** 사용자는 현재 어떤 단계가 진행 중인지 볼 수 있다
- **단계:**
  1. 문서 파싱 중...
  2. 거래 내역 추출 중...
  3. 패턴 분석 중...
  4. 완료
- **테스트 가능성:** 각 단계에서 현재 단계가 하이라이트되어 표시되는지 확인

**FR28: 파일별 진행 상태 표시**
- **설명:** 사용자는 각 파일의 처리 상태를 볼 수 있다
- **표시:** 파일명 + 현재 상태 (완료/처리 중/대기 중/실패)
- **예시:** "✓ 국민은행_홍길동.pdf 완료"
- **테스트 가능성:** 5개 파일 업로드 시 각 파일의 상태가 개별적으로 표시되는지 확인

**FR29: 예상 소요 시간 표시**
- **설명:** 사용자는 분석 완료까지의 예상 소요 시간을 볼 수 있다
- **표시:** "예상 완료까지 1분 30초"
- **테스트 가능성:** 분석 시작 후 예상 시간이 표시되는지 확인

**FR30: 장애 발생 시 명확한 알림**
- **설명:** 시스템 장애 발생 시 사용자에게 명확한 메시지를 표시한다
- **메시지:** "분석 중 일시적 오류입니다. 잠시 후 다시 시도해주세요"
- **테스트 가능성:** API 장애 발생 시 에러 메시지가 표시되는지 확인

---

### Capability Area 7: 관리자 기능 (Administrator Features)

**사용자 역할:** 팀장, IT 관리자

**FR31: 사용자 초대 (이메일)**
- **설명:** 관리자는 이메일로 새 사용자를 초대할 수 있다
- **필수 항목:** 이메일, 이름, 역할
- **테스트 가능성:** 이메일 입력 후 초대장 발송 시 사용자가 이메일을 받는지 확인

**FR32: 사용자 역할 설정**
- **설명:** 관리자는 사용자의 역할을 설정할 수 있다
- **역할:** 변호사(일반 사용자), 법무사, 팀장(관리자), 지원팀
- **테스트 가능성:** 새 사용자 생성 시 역할 선택이 가능한지 확인

**FR33: API 키 관리**
- **설명:** 관리자는 외부 API 키(Upstage, OpenAI, Claude 등)를 관리할 수 있다
- **기능:** 키 등록, 수정, 삭제, 활성/비활성
- **테스트 가능성:** OpenAI API 키 등록 후 시스템이 해당 키를 사용하는지 확인

**FR34: API 사용량 모니터링**
- **설명:** 관리자는 각 API의 사용량과 한도를 모니터링할 수 있다
- **표시:** 현재 사용량, 월 한도, 사용률 %, 한도 경고(90%, 95%)
- **테스트 가능성:** OpenAI API 사용량이 실시간으로 표시되는지 확인

**FR35: 시스템 상태 대시보드**
- **설명:** 관리자는 시스템 전체 상태를 볼 수 있다
- **표시 항목:** 활성 사용자 수, 어제 처리한 사건 수, API 호출 횟수, 시스템 상태(정상/장애)
- **테스트 가능성:** 관리자 대시보드 접속 시 현재 상태가 표시되는지 확인

**FR36: 실시간 로그 조회**
- **설명:** 관리자는 각 사건의 처리 단계를 실시간으로 추적할 수 있다
- **표시 항목:** 타임스탬프, 사건번호, 처리 단계, 상태, 에러 메시지(있는 경우)
- **테스트 가능성:** 특정 사건의 로그 조회 시 처리 단계가 시간순으로 표시되는지 확인

---

### Capability Area 8: 에러 핸들링 및 사용자 가이드 (Error Handling & User Guidance)

**사용자 역할:** 변호사, 법무사

**FR37: 명확한 에러 메시지**
- **설명:** 시스템은 에러 발생 시 사용자가 이해하기 쉬운 메시지를 표시한다
- **표시 내용:** 무엇이 문제인지, 왜 실패했는지, 어떻게 해결할 수 있는지
- **예시:** "❌ 지원하지 않는 파일 형식입니다. .txt 파일은 현재 지원하지 않습니다. 지원 형식: PDF, 엑셀(XLSX), 이미지(JPG, PNG)"
- **테스트 가능성:** 지원하지 않는 파일 업로드 시 명확한 에러 메시지가 표시되는지 확인

**FR38: 파일 변환기 제공**
- **설명:** 시스템은 지원하지 않는 형식(.txt 등)을 지원 형식으로 변환할 수 있는 도구를 제공한다
- **기능:** 텍스트를 붙여넣으면 자동으로 엑셀 형식으로 변환
- **테스트 가능성:** 텍스트 붙여넣기 후 변환 클릭 시 엑셀이 다운로드되는지 확인

**FR39: 부분 분석 안내**
- **설명:** 일부 파일이 실패했을 때 정상 파일로 분석을 계속할지 안내한다
- **안내 내용:** 정상 파일 수, 실패 파일 수, 계속 진행 여부
- **테스트 가능성:** 3개 중 1개 실패 시 "2개 파일로 분석을 진행합니다" 메시지가 표시되는지 확인

**FR40: 도움말 연결**
- **설명:** 각 에러 메시지와 함께 도움말 링크를 제공한다
- **내용:** FAQ, 사용 가이드, 지원팀 연락처
- **테스트 가능성:** 에러 메시지에서 [도움말 보기] 클릭 시 도움말 페이지로 이동하는지 확인

---

### Capability Area 9: 보안 및 규정 준수 (Security & Compliance)

**사용자 역할:** 시스템, 관리자

**FR41: 데이터 마스킹**
- **설명:** 시스템은 민감 정보를 마스킹 처리한다
- **마스킹 항목:** 계좌번호(중간 4자리만: ***1234), 이름(성만: 홍*동), 주소/연락처(완전 제거)
- **테스트 가능성:** 엑셀 다운로드 시 계좌번호가 마스킹되어 있는지 확인

**FR42: 외국 API 사용 동의**
- **설명:** 시스템은 외국 API(GPT, Claude 등) 사용에 대한 사용자 동의를 받는다
- **동의 옵션:** "외국 API 사용에 동의합니다" 체크박스
- **대안:** "한국 AI(Upstage Solar)만 사용합니다" 옵션
- **테스트 가능성:** 첫 사용 시 동의 화면이 표시되는지 확인

**FR43: 법적 책임 면책 조항 표시**
- **설명:** 시스템은 모든 페이지에 AI 분석 결과는 참고용이며 최종 판단은 변호사의 책임임을 표시한다
- **위치:** 화면 하단 또는 상단
- **문구:** "분석 결과는 참고용입니다. 최종 판단은 변호사의 책임입니다."
- **테스트 가능성:** 모든 화면에 면책 조항이 표시되는지 확인

**FR44: API 호출 로그 기록**
- **설명:** 시스템은 외국 API 호출 기록을 보관한다
- **기록 항목:** 어떤 데이터, 언제, 어디로(어떤 API)
- **보관 기간:** 최소 7년
- **테스트 가능성:** 관리자 화면에서 API 호출 로그를 조회할 수 있는지 확인

**FR45: 감사 로그**
- **설명:** 시스템은 사용자의 모든 중요 작업을 기록한다
- **기록 항목:** 누가, 언제, 어떤 사건, 어떤 작업
- **테스트 가능성:** 특정 사용자의 모든 작업 이력을 조회할 수 있는지 확인

---

### Capability Area 10: 반응형 디자인 및 기기 지원 (Responsive Design & Device Support)

**사용자 역할:** 변호사, 법무사

**FR46: 데스크톱 지원**
- **설명:** 시스템은 1920px+, 1366px 데스크톱 화면에서 최적화된다
- **레이아웃:** 대시보드, 필터, 테이블이 데스크톱에 최적화
- **테스트 가능성:** 1920x1080 모니터에서 UI가 깨지지 않고 표시되는지 확인

**FR47: 노트북 지원**
- **설명:** 시스템은 1024px 노트북 화면을 지원한다
- **테스트 가능성:** 1024x768 해상도에서 스크롤 없이 핵심 기능을 사용할 수 있는지 확인

**FR48: 태블릿(iPad) 지원**
- **설명:** 시스템은 iPad(768px - 1024px)에서 최적화된다
- **터치 인터페이스:** 드래그 앤 드롭, 버튼 터치 지원
- **세로/가로 모드:** 두 가지 모드 모두 지원
- **테스트 가능성:** iPad Pro 12.9"에서 모든 기능이 정상 작동하는지 확인

**FR49: 빠른 페이지 로딩**
- **설명:** 시스템은 초기 페이지 로딩을 3초 이내에 완료한다
- **기술:** Next.js SSR, 코드 스플리팅, CDN
- **테스트 가능성:** 페이지 첫 방문 시 3초 이내에 인터랙티브한 상태가 되는지 확인

**FR50: 페이지 전환 속도**
- **설명:** 시스템은 페이지 전환을 500ms 이내에 완료한다
- **기술:** Next.js 페이지 라우팅, 프리페칭
- **테스트 가능성:** 메뉴 클릭 후 다음 페이지가 500ms 이내에 표시되는지 확인

---

### Functional Requirements Summary

**총 FR 수:** 50개

**역량 영역별 분포:**
1. 문서 업로드 및 처리: 6개 (FR1-FR6)
2. 자동 분석 및 패턴 인식: 6개 (FR7-FR12)
3. 분석 결과 조회 및 탐색: 4개 (FR13-FR16)
4. 데이터 내보내기 ⭐: 6개 (FR17-FR22)
5. AI 분석 결과 보정: 3개 (FR23-FR25)
6. 실시간 프로세스 피드백: 5개 (FR26-FR30)
7. 관리자 기능: 6개 (FR31-FR36)
8. 에러 핸들링 및 사용자 가이드: 4개 (FR37-FR40)
9. 보안 및 규정 준수: 5개 (FR41-FR45)
10. 반응형 디자인 및 기기 지원: 5개 (FR46-FR50)

**MVP 포함 FR:** 38개 (Phase 2/3 기능 제외)
**Post-MVP FR:** 12개 (관리자 고급 기능, 지원팀 기능, 일부 에러 핸들링)

---

### Testing Strategy

**FR 테스트 원칙:**
- 모든 FR은 독립적으로 테스트 가능
- Acceptance Criteria: "사용자가 [X]를 할 수 있다"를 만족하는지 확인
- 테스트 방법: 수동 테스트 + 자동화 테스트(E2E)

**우선순위:**
- **P0 (MVP 필수):** FR1-FR22, FR26-FR30, FR41-FR43, FR46-FR50 (핵심 사용자 여정)
- **P1 (MVP 중요):** FR23-FR25, FR31-FR36 (관리자 최소 기능)
- **P2 (Post-MVP):** FR37-FR40, FR44-FR45 (지원팀 기능, 고급 보안)

---

## Non-Functional Requirements

### Overview

이 섹션은 Paros 시스템의 **비기능적 요구사항(Non-Functional Requirements: NFR)**을 정의합니다.

**목적:**
- 시스템이 **얼마나 잘** 수행해야 하는지를 정의 (무엇을 하는지가 아닌)
- Paros 프로젝트에 **실제로 중요한 품질 속성**만 선별적으로 문서화
- 모든 NFR은 구체적이고 측정 가능해야 함

**선택적 접근:**
- ✅ **포함:** Performance, Security, Reliability, Integration (핵심)
- ⚠️ **부분 포함:** Scalability (초기 규모 고려)
- ❌ **제외:** Accessibility (내부 전문가용 도구)

---

### Performance (성능)

**NFR-P1: 분석 완료 시간**
- **요구사항:** 시스템은 20개 파일(각 50MB) 업로드 후 1분 이내에 분석을 완료해야 한다
- **측정:** 파일 업로드 시작부터 결과 대시보드 표시까지
- **실패 시:** 타임아웃 메시지와 재시도 옵션 제공
- **비고:** 사용자 성공 기준(4-8시간 → 30분) 달성을 위한 핵심 지표

**NFR-P2: 첫 인사이트 표시 속도 (3초 규칙)**
- **요구사항:** 분석 완료 후 3초 이내에 핵심 발견 3가지를 표시해야 한다
- **측정:** 백엔드 분석 완료 신호부터 첫 화면 렌더링까지
- **목적:** 사용자가 즉시 가치를 인지하도록 함

**NFR-P3: 페이지 로딩 속도**
- **요구사항:**
  - 초기 페이지 로딩: 3초 이내에 인터랙티브한 상태
  - 페이지 전환: 500ms 이내 완료
- **측정:** Core Web Vitals (TTI < 3초, FID < 100ms)
- **기술:** Next.js SSR, 코드 스플리팅, CDN

**NFR-P4: 실시간 진행률 업데이트**
- **요구사항:** 업로드 및 분석 진행률은 1초 이내에 사용자에게 반영되어야 한다
- **기술:** SSE 또는 WebSocket (폴링 Fallback)
- **측정:** 서버 이벤트 발생부터 클라이언트 UI 업데이트까지

**NFR-P5: 필터 응답 시간**
- **요구사항:** 금액/유형/기간 필터 적용 후 결과는 2초 이내에 표시되어야 한다
- **측정:** 필터 버튼 클릭부터 필터링된 결과 렌더링까지
- **비고:** 사용자 경험을 위한 반응성 기준

---

### Security (보안)

**NFR-S1: 데이터 암호화**
- **요구사항:** 모든 데이터는 전송 중 및 저장 중 암호화되어야 한다
- **전송 중:** HTTPS TLS 1.3
- **저장 중:** AES-256
  - 데이터베이스: PostgreSQL 암호화 스토리지
  - 파일 스토리지: S3 암호화 (AWS Seoul)

**NFR-S2: 데이터 마스킹**
- **요구사항:** 민감 정보는 마스킹 처리되어야 한다
  - **계좌번호:** ***1234 (중간 4자리만)
  - **이름:** 홍*동 (성만)
  - **주소/연락처:** 완전 제거
- **적용 범위:** UI 표시, 엑셀 다운로드, LLM 전송 시 필수

**NFR-S3: 인증 및 권한 관리**
- **요구사항:**
  - 모든 사용자는 인증되어야 한다 (JWT + HttpOnly Cookie)
  - 세션 만료: 8시간 (업무 시간 고려)
  - 역할 기반 접근 제어(RBAC)
- **역할:** 변호사, 법무사, 관리자, 지원팀

**NFR-S4: 외국 API 사용 동의**
- **요구사항:** 사용자는 외국 API(GPT, Claude 등) 사용에 명시적으로 동의해야 한다
- **옵션:**
  - ☑ "외국 API 사용에 동의합니다"
  - ☐ "한국 AI(Upstage Solar)만 사용합니다"
- **기록:** 동의 내역 기록 (최소 7년 보관)

**NFR-S5: 감사 로그**
- **요구사항:** 모든 중요 작업은 기록되어야 한다
- **기록 항목:** 누가, 언제, 어떤 사건, 어떤 작업, IP 주소
- **보관 기간:** 최소 7년 (상사법 규정)
- **접근 권한:** 관리자만 조회 가능

**NFR-S6: 데이터 보존 및 삭제**
- **요구사항:** 분석 결과, 원본 파일, 수정 이력은 평생 보관되어야 한다
- **이유:** 회생 파산 사건의 증거 보존 의무
- **제한:** 사용자 요청 시 삭제 불가 (법적 의무)
- **저장 위치:** 한국 내 서버 (AWS Seoul)

**NFR-S7: 법적 책임 면책 조항**
- **요구사항:** 모든 페이지에 AI 분석 결과는 참고용이며 최종 판단은 변호사의 책임임을 표시해야 한다
- **위치:** 화면 하단 또는 상단
- **문구:** "분석 결과는 참고용입니다. 최종 판단은 변호사의 책임입니다."
- **워터마크:** AI 생성 문서에 "초안임, 검토 필요" 표시

---

### Reliability (신뢰성)

**NFR-R1: 가용성**
- **요구사항:** 시스템 가용성은 99.9% 이상이어야 한다
- **월간 최대 다운타임:** 43분
- **업무 시간(9-18시) 중 가용성:** 특히 중요
- **장애 발생 시:** "분석 중 일시적 오류입니다. 잠시 후 다시 시도해주세요" 메시지

**NFR-R2: 자동 장애 복구**
- **요구사항:** 외부 API 장애 시 자동으로 백업 API로 전환해야 한다
- **예시:** Upstate 타임아웃 → Google Document AI
- **사용자 경험:** 진행률 유지, 장애를 느끼지 못하도록 투명하게 처리

**NFR-R3: 데이터 내보내기 성공률**
- **요구사항:** 엑셀, 이미지, 클립보드 다운로드 성공률은 99.9% 이상이어야 한다
- **실패 시:** 명확한 에러 메시지와 재시도 옵션
- **비고:** 핵심 성공 기능 (FR17-FR22)

**NFR-R4: 부분 실패 처리**
- **요구사항:** 일부 파일이 실패해도 정상 파일로 분석을 계속 진행해야 한다
- **사용자 안내:** 실패 파일과 성공 파일을 명확히 구분해서 표시
- **선택:** "계속 진행" 또는 "취소하고 파일 다시 선택"

**NFR-R5: 오류 복구**
- **요구사항:** 시스템 오류 발생 후 5분 이내에 자동 재시도 또는 대안 경로 제시
- **사용자 통지:** "다시 시도해주세요" 메시지와 예상 대기 시간

---

### Integration (연동)

**NFR-I1: 외부 API 다중화**
- **요구사항:** 최소 2개 이상의 OCR API를 통합해야 한다
- **주요 API:** Upstage Solar (한국어 특화), Google Document AI (백업)
- **목적:** 단일 장애점(SPOF) 방지

**NFR-I2: API 타임아웃 처리**
- **요구사항:** 외부 API 호출 타임아웃은 15초로 설정해야 한다
- **타임아웃 시:** 자동으로 백업 API로 전환
- **진행률 유지:** 사용자에게 진행 상황 계속 표시

**NFR-I3: API 사용량 모니터링**
- **요구사항:** 각 외부 API의 사용량과 한도를 실시간으로 모니터링해야 한다
- **경고:**
  - 한도 90% 도달 시 → 관리자 경고 알림
  - 한도 95% 도달 시 → 추가 사용 제한
- **대상 API:** Upstage Solar, OpenAI GPT, Anthropic Claude, Google Document AI

**NFR-I4: 데이터 저장소**
- **요구사항:** 모든 데이터는 한국 내 서버에 저장해야 한다
- **주 리전:** AWS Seoul
- **백업:** 한국 내 2개 지역에 이중화
- **이유:** 개인정보보호법, 금융 관련 규정 준수

**NFR-I5: LLM 선택적 호출**
- **요구사항:** 로컬 필터링 후 선택적으로 LLM을 호출해야 한다
- **목적:** 비용 최적화 (90-95% LLM 호출 감소)
- **전략:**
  1. 문서 파싱/정규화: 로컬 (Python/pandas)
  2. 기본 필터링: 로컬 ML/규칙
  3. 심층 분석: 선택적 LLM 호출 (GPT/Claude)
- **사용자 옵션:** LLM 선택 가능 (GPT/Claude/Grok)

---

### Scalability (확장성)

**NFR-SC1: 동시 사용자 지원**
- **MVP:** 최대 20명 동시 사용자 지원
- **목표:** 100명까지 성장 시 <10% 성능 저하
- **비고:** 파로스 내부 도구이므로 급격한 성장 예상 안 됨

**NFR-SC2: 파일 처리량**
- **MVP:** 일일 100개 사건 처리 (각 사건당 최대 20개 파일)
- **목표:** 일일 500개 사건까지 확장 가능
- **확장 전략:** 백엔드 비동기 처리, 큐 시스템

**NFR-SC3: 데이터베이스 확장성**
- **예상 용량:** 1년 데이터 약 100GB (통장 내역, 분석 결과)
- **확장 전략:** PostgreSQL read replica로 읽기 작업 분산
- **보관:** 평생 보관 (법적 의무)

---

### Non-Functional Requirements Summary

**총 NFR 수:** 23개

**카테고리별 분포:**
- Performance: 5개 (NFR-P1 ~ NFR-P5)
- Security: 7개 (NFR-S1 ~ NFR-S7)
- Reliability: 5개 (NFR-R1 ~ NFR-R5)
- Integration: 5개 (NFR-I1 ~ NFR-I5)
- Scalability: 3개 (NFR-SC1 ~ NFR-SC3)

**MVP 우선순위:**
- **P0 (필수):** 모든 Performance (5), Security의 S1-S3,S7 (4), Reliability의 R1,R3,R4 (3), Integration의 I1,I2,I4 (3)
- **P1 (중요):** Security의 S4-S6 (3), Reliability의 R2,R5 (2), Integration의 I3,I5 (2)
- **P2 (향후):** Scalability (3)

**제외된 카테고리:**
- ❌ Accessibility (내부 전문가용 도구, 사용자 집단 명확)

---

### Testing & Validation

**NFR 검증 원칙:**
- 모든 NFR은 구체적이고 측정 가능해야 함
- 성능 테스트: 부하 테스트, 스트레스 테스트
- 보안 테스트: 침투 테스트, 취약점 스캔
- 신뢰성 테스트: 장애 주입 테스트, 복구 테스트

**측정 도구:**
- **Performance:** Lighthouse, WebPageTest, New Relic
- **Security:** OWASP ZAP, Snyk
- **Reliability:** Chaos Engineering (Gremlin), Pingdom
- **Integration:** API 모니터링 (Postman, Datadog)
